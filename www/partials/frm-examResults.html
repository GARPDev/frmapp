<!-- Fixed navbar -->
<div class="slide-animate" ng-include="'partials/frm-examnav.html'"></div>    

<div class="container">
  <div class="row">
    <div class="col-md-12">
        <div class="exam-results-header">
          <h3>Test Results</h3>
          <p>{{correctAnswers}} / {{totalQuestions}} Correct
        </div>
        <div>
        	<p>Quartiles</p>
        </div>

		<div ng-repeat="userAnswer in userAnswers" class="panel-group" id="accordion">

		  <div class="panel panel-default">
		    <div class="panel-heading" data-toggle="collapse" data-target="#collapse{{$index}}">
		      <h4 class="panel-title">
		          Question {{$index+1}}: {{(userAnswer.question.answer == userAnswer.choice) ? 'Correct' : 'Incorrect'}}
		      </h4>
		    </div>
		    <div id="collapse{{$index}}" class="panel-collapse collapse" ng-class="{ 'in': $index == 0 }">
		      <div class="panel-body">

		        <div class="exam-question-counter">
		        	{{userAnswer.question.id}} : {{userAnswer.question.question}}
		        </div>
		        <div class="exam-question-choices">
		        	<table class="table table-condensed">
		        		<tr ng-repeat="choice in userAnswer.question.choices">
		        			<td>{{choice.id}}.</td>
		        			<td>{{choice.description}}</td>
		        		</tr>
		        	</table>
		        </div>
		        <div>
					<p>The correct answer is {{userAnswer.question.answer}}</p>
      				<p>{{userAnswer.question.reason}}</p>
      			</div>

		      </div>
		    </div>
		  </div>

		</div>
    </div>
  </div>

</div>

<!-- Note Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">{{answerResponse}}</h4>
      </div>
      <div class="modal-body">
      	<p ng-if="correctAnswer.length > 0">The correct answer is {{correctAnswer}}</p>
      	<p>{{answerReason}}</p>
      </div>
      <div class="modal-footer">
      	<div ng-if="currentQuestion == totalQuestions">
        	<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="nextQuestion()">Finish</button>
      	</div>
      	<div ng-if="currentQuestion < totalQuestions">
        	<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="nextQuestion()">Next Question</button>
        </div>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
